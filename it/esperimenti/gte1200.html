<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
    <meta http-equiv="content-type" content="text/html;charset=UTF-8">
    <link rel="stylesheet" href="/css/syntax.css" type="text/css">
    <link rel="stylesheet" href="/css/stylesheet.css" type="text/css">

    <title>
        
    </title>

</head>
<body  onload="">
    <div id="body">

        <br>

        <div id="header">
            <div id="mainnav" class="dropdown">

                <ul class="menulevel1">

                    <li>
                        <span>
                            <a href="/it">Home</a>
                        </span>
                    </li>

                    <li>
                        <span>
                            <a href="/it/chiSono.html">About me</a>
                        </span>
                    </li>

                    <li><span>Scienza e Ingegneria</span>
                        <ul class="menulevel2">

                            <li>
                                <span>
                                    <a href="/it/progetti"> Progetti (semi) seri </a>
                                </span>
                            </li>
                            <li>
                                <span>
                                    <a href="/it/lavori_vari"> Creazioni varie </a>
                                </span>
                            </li>

                            <li>
                                <span>
                                    <a href="/it/esperimenti"> Esperimenti e <i>hack </i> </a>
                                </span>
                            </li>

                        </ul>
                    </li>

                    <li class="docs"><span>Tutto il resto</span>
                        <ul class="menulevel2">
                            <!-- <li>
                                <span>
                                    <a href="raccolta_link.html"> Raccolta di link vari </a>
                                </span>
                            </li> -->
                        </ul>
                </ul>

                <ul class="language">
                    <li>
                        <span>
                            <a href="/en"><img src="/icons/en.png" width="25px" height="16px"></a>
                        </span>
                    </li>
                </ul>
            </div> <!-- mainnav -->
        </div> <!-- header -->

        <div id="content">

            <h2 id="interfaccia-at-del-telefono-samsung-gt-e1200">Interfaccia AT del telefono Samsung GT-E1200</h2>

<p>Non molto tempo fa mi è capitato tra le mani un telefono cellulare Samsung GT-E1200, piuttosto malandato ma funzionante: con l’intenzione di ricavarci qualcosa di utile ho cominciato a pasticciarci con l’idea di scoprire se c’era la possibilità di inviare SMS oppure effettuare telefonate inviando opportuni comandi da esterni (ovvero non utilizzando i tasti del telefono), in modo tale da poterlo utilizzare in un qualche progetto futuro. Dopo una rapida ricerca, <a href="http://pinoutsguide.com/CellularPhones-P-W/samsung_d800_pinout.shtml#">questa pagina</a> mi ha fornito la piedinatura del connettore laterale del dispositivo il quale, fortunatamente, presenta le connessioni per un’interfaccia seriale con la quale inviare comandi al microcontrollore interno. In aggiunta a questa la connessione USB fornisce un’interfaccia seriale identica alla precedente tranne per il fatto che la velocità di comunicazione è impostabile a piacimento.<br />
La comunicazione seriale “classica” funziona ad una velocità di 115200 baud ed è attiva permantentemente solo se il pin indicato come <em>IF_CON_SENSE</em> (ovvero il pin 15) è forzato a massa, in caso contrario la comunicazione funzionerà solo per pochi secondi all’accensione del dispositivo oppure durante una telefonata (sia ricevuta che effettuata). La comunicazione con il dispositivo è basata sull’invio di comandi facenti parte dello standard AT per dispositivi GSM anche se è da segnalare che <strong>non tutti</strong> i comandi AT facenti parte dello standard vengono riconosciuti dal dispositivo oppure sono utilizzabili: ad esempio è possibile ricevere ed effettuare telefonate, mentre i comandi utilizzati per l’invio di SMS ottengono come risposta il codice di errore <em>+CME ERROR: 0</em>, ovvero “phone failure”.<br />
In aggiunta ai comandi AT standard vengono riconosciuti i seguenti comandi AT proprietari, di cui si è annotato anche il messaggio di risposta da parte del dispositivo:</p>

<table border="1">
    <tr>
        <th> Comando: </th>
        <th> Risposta:&nbsp;</th>
        <th> Annotazioni: </th>
    </tr>
    <tr><td> AT+IMEITEST      </td><td> NA </td><td>    </td></tr>
    <tr><td> AT+EMEMTEST      </td><td> NA </td><td>    </td></tr>
    <tr><td> AT+LVOFLOCK      </td><td>    </td><td>    </td></tr>
    <tr><td> AT+DETALOCK      </td><td> NA </td><td>    </td></tr>
    <tr><td> AT+KEYULOCK      </td><td> NA </td><td>    </td></tr>
    <tr><td> AT+VERSNAME      </td><td>    </td><td> con AT+VERSNAME? si riavvia </td></tr>
    <tr><td> AT+KEY           </td><td>    </td><td> simula pressione dei tasti </td></tr>
    <tr><td> AT+KEYTRACE      </td><td>    </td><td>    </td></tr>
    <tr><td> AT+FACTORST      </td><td> NA </td><td>    </td></tr>
    <tr><td> AT+RSTVERIF      </td><td> NA </td><td>    </td></tr>
    <tr><td> AT+VIBRTEST      </td><td>    </td><td>    </td></tr>
    <tr><td> AT+GETDISPLAY    </td><td>    </td><td>    </td></tr>
    <tr><td> AT+HEADINFO      </td><td> NA </td><td> se AT+HEADINFO=xxx si riavvia </td></tr>
    <tr><td> AT+MICSD         </td><td>    </td><td>    </td></tr>
    <tr><td> AT+FCBTTEST      </td><td>    </td><td>    </td></tr>
    <tr><td> AT+FCESTEST      </td><td>    </td><td>    </td></tr>
    <tr><td> AT+SMS           </td><td>    </td><td>    </td></tr>
    <tr><td> AT+KEYHOLD       </td><td>    </td><td> come AT+KEY, tasto premuto a lungo </td></tr>
    <tr><td> AT+PRODCODE      </td><td> NG, NA </td><td>    </td></tr>
    <tr><td> AT+TEMPTEST      </td><td> NA </td><td>    </td></tr>
    <tr><td> AT+CALIDATE      </td><td> NA </td><td>    </td></tr>
    <tr><td> AT+MAXPOWER      </td><td> NG </td><td> se AT+MAXPOWER=xxx si riavvia </td></tr>
    <tr><td> AT+FCMPTEST      </td><td>    </td><td>    </td></tr>
    <tr><td> AT+FCFMTEST      </td><td>    </td><td>    </td></tr>
    <tr><td> AT+FCEPTEST      </td><td> NA </td><td>    </td></tr>
    <tr><td> AT+SPKSTEST      </td><td> NA </td><td>    </td></tr>
    <tr><td> AT+LOOPTEST      </td><td> NA </td><td>    </td></tr>
    <tr><td> AT+SIMDETEC      </td><td> NA </td><td>    </td></tr>
    <tr><td> AT+SETTESTNV     </td><td>    </td><td>    </td></tr>
    <tr><td> AT+SETFULLTESTNV </td><td>    </td><td>    </td></tr>
    <tr><td> AT+GETTESTNV     </td><td>    </td><td>    </td></tr>
    <tr><td> AT+GETFULLTESTNV </td><td>    </td><td>    </td></tr>
    <tr><td> AT+GETFULLHISTNV </td><td>    </td><td>    </td></tr>
    <tr><td> AT+LOGERASE      </td><td>    </td><td>    </td></tr>
    <tr><td> AT+SETFDATA      </td><td>    </td><td>    </td></tr>
    <tr><td> AT+SETFULLFDATA  </td><td>    </td><td>    </td></tr>
    <tr><td> AT+GETFDATA      </td><td>    </td><td>    </td></tr>
    <tr><td> AT+GETFULLFDATA  </td><td>    </td><td>    </td></tr>
    <tr><td> AT+RTCCTEST      </td><td>    </td><td>    </td></tr>
    <tr><td> AT+KEYSHORT      </td><td>    </td><td>    </td></tr>
</table>

<p>In particolare il comando <em>AT+KEY</em> è in grado di simulare la pressione dei tasti, consentendo di navigare nei menù, comporre numeri, … come se lo si stesse facendo di persona. La sintassi del comando è <em>AT+KEY=xx</em>, dove xx è un numero associato a ciascun tasto secondo la seguente tabella:</p>

<table border="1">
    <tr>
        <th> Codice:&nbsp; </th>
        <th> Tasto:&nbsp;</th>        
    </tr>
    <tr><td> 0 </td><td> ignoto </td></tr>
    <tr><td> 1 </td><td> tasto "1" </td></tr>
    <tr><td> 2 </td><td> tasto "2" </td></tr>
    <tr><td> 3 </td><td> tasto "3" </td></tr>
    <tr><td> 4 </td><td> tasto "4" </td></tr>
    <tr><td> 5 </td><td> tasto "5" </td></tr>
    <tr><td> 6 </td><td> tasto "6" </td></tr>
    <tr><td> 7 </td><td> tasto "7" </td></tr>
    <tr><td> 8 </td><td> tasto "8" </td></tr>
    <tr><td> 9 </td><td> tasto "9" </td></tr>
    <tr><td> 10 </td><td> tasto "0" </td></tr>
    <tr><td> 11 </td><td> tasto di inizio chiamata </td></tr>
    <tr><td> 12 </td><td> tasto di chiusura chiamata &nbsp;</td></tr>
    <tr><td> 13 </td><td> tasto "#" </td></tr>
    <tr><td> 14 </td><td> tasto "*" </td></tr>
    <tr><td> 15 </td><td> tasto funzione destro </td></tr>
    <tr><td> 16 </td><td> <font color="grey"> non assegnato </font> </td></tr>
    <tr><td> 17 </td><td> <font color="grey"> non assegnato </font> </td></tr>
    <tr><td> 18 </td><td> tasto freccia su </td></tr>
    <tr><td> 19 </td><td> <font color="grey"> non assegnato </font> </td></tr>
    <tr><td> 20 </td><td> tasto freccia giu </td></tr>
    <tr><td> 21 </td><td> <font color="grey"> non assegnato </font> </td></tr>
    <tr><td> 22 </td><td> ignoto </td></tr>
    <tr><td> 23 </td><td> ignoto </td></tr>
    <tr><td> 24 </td><td> tasto freccia sinistra </td></tr>
    <tr><td> 25 </td><td> tasto freccia destra </td></tr>
    <tr><td> 26 </td><td> <font color="grey"> non assegnato </font> </td></tr>
    <tr><td> 27 </td><td> tasto "OK" </td></tr>
    <tr><td> 27 </td><td> tasto funzione sinistro </td></tr>
</table>



        </div> <!-- content -->

            <div id="footerbox">
                <div id="footer">
                    Last update: 06 May 2020 &bull;
                    <br><br>
                    <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">
                        <img alt="Creative Commons License" style="border-width:0" src="/icons/cc_small.png" />
                    </a>
    </div> <!-- body -->
</body>
</html>
